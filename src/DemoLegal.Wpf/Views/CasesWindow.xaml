<Window x:Class="DemoLegal.Wpf.Views.CasesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Дела" Height="560" Width="900"
        WindowStartupLocation="CenterOwner"
        Loaded="Window_Loaded">
  <DockPanel Margin="12">
    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
      <Button Content="Обновить" Width="120" Margin="0,0,8,0" Command="{Binding RefreshCommand}"/>
      <Button Content="Собрать досудебный пакет"
              Width="220" Margin="0,0,8,0"
              Command="{Binding BuildPretrialCommand}"
              CommandParameter="{Binding Selected.Id}"/>
      <Button Content="Открыть папку дела"
              Width="180"
              Command="{Binding OpenFolderCommand}"
              CommandParameter="{Binding Selected.Id}"/>
    </StackPanel>

    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
        <RowDefinition Height="160"/>
      </Grid.RowDefinitions>

      <DataGrid Grid.Row="0"
                ItemsSource="{Binding Items}"
                SelectedItem="{Binding Selected, Mode=TwoWay}"
                AutoGenerateColumns="False" IsReadOnly="True">
        <DataGrid.Columns>
          <DataGridTextColumn Header="ID дела" Binding="{Binding Id}" Width="*" />
          <DataGridTextColumn Header="ЛС (AccountId)" Binding="{Binding AccountId}" Width="*" />
          <DataGridTextColumn Header="Статус" Binding="{Binding Status}" Width="120" />
          <DataGridTextColumn Header="Тип должника" Binding="{Binding DebtorType}" Width="120" />
          <DataGridTextColumn Header="Сумма долга" Binding="{Binding DebtAmount, StringFormat=N2}" Width="120" />
          <DataGridTextColumn Header="Период с" Binding="{Binding PeriodFrom}" Width="120" />
          <DataGridTextColumn Header="Период по" Binding="{Binding PeriodTo}" Width="120" />
        </DataGrid.Columns>
      </DataGrid>

      <GroupBox Grid.Row="1" Header="Сообщения" Margin="0,8,0,0">
        <ListBox ItemsSource="{Binding Messages}"/>
      </GroupBox>
    </Grid>
  </DockPanel>
</Window>
